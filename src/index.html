<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>San Diego AirBNBs</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
    integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
    crossorigin=""/>
    <!-- d3 JavaScript -->
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <!-- Our CSS -->
    <link rel="stylesheet" type="text/css" href="static/css/style.css">
</head>
<body>
    <div class="container-fluid" style="background-color:#dcf3f3">
        <!-- Jumbotron Row -->
        <div class="row">
        <div class="jumbotron text-center bg-image">
            <h1>San Diego AirBNBs</h1>
        </div>
        </div>

        <div class="row">
            <p id="intro">Airbnb is a housing platform used by people around the world, be it home-owners, renters, or customers looking for living accomodations. 
                The platform has been in the news a lot recently regarding their pricing and whether or not it is sustainable long-term. 
                Airbnb expects hosts to set their own prices, and there are not many (if any) free services that provide accurate pricing for people looking to 
                rent out their place. <br><br>

                Pricing is important, especially as decline has decreased over the past couple of years due to COVID and other risk factors preventing people from 
                vacationing. People looking to put their property on the site need to be carfeful what price they set. Too low means not maximising earning potential, 
                and too high means people are less likely to book. <br><br>
                
                Our project aims to identify key variables in Airbnb data and use our machine learning model to predict, as accurately as we can, 
                the daily rent price a property should be listed at in San Diego.</p>
        </div>

        <!-- map row -->
        <div class="row row-1">
            <div class="col-md-8" id="map-box">
                <div class="panel" id="map-header">
                    <div class="panel-heading">
                        <h3 class="panel-title">AirBNB Locations</h3>
                    </div>
                </div>
                <div id="mapid"></div>
            </div>
            <div class="col-md-4" id="map-desc">
                <p>This map shows the locations of over 14,000 AirBNBs in the San Diego area.  Use the provided filters to visualize different details 
                    about these listings.  Each bubble can be clicked on for more information, including a link to the listing page.
                </p>
                <h4>By Price</h4>
                <p>This filter scales the color and shape based on the listing price of the AirBNB, which range from $10 to $999.  </p>
                <h4>By Guests</h4>
                <p>Similar to price, this filter scales the color and shape based on the number of guests accommodated.</p>
                <h4>By Host Listings</h4>
                <p>This filter scales the color based on how many properties the host has listed, but does not scale the size.  This is because one 
                    host ists over 2,500 properties, while the 75th percentile for listings falls at 17, so the size scaling wasn't particularly 
                    informative.
                </p>
            </div>
        </div>

        <!--next chart row -->
        <div class="row row-2">
            <div class="col-md-3"></div>
            <div class="col-md-6">
                <h3>Price vs Property Type</h3>
                <div class='tableauPlaceholder' id='viz1669163259470' style='position: relative'><noscript><a href='#'><img alt='Price vs Property type ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Pr&#47;PricingvsPropertyType&#47;PricevsPropertytype&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='PricingvsPropertyType&#47;PricevsPropertytype' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Pr&#47;PricingvsPropertyType&#47;PricevsPropertytype&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en-US' /><param name='filter' value='publish=yes' /></object></div>                <script type='text/javascript'>                    var divElement = document.getElementById('viz1669163259470');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script>
                <p class="chart-desc"> The chart above shows the relationship between price and property type. Entire homes and rental units
                    fetch higher prices than private rooms.
                </p>
            </div>
            <div class="col-md-3"></div>
            </div>

        <div class="row row-2">
        <div class="col-md-3"></div>
        <div class="col-md-6">
            <h3>Price Range</h3>
            <div class='tableauPlaceholder' id='viz1668742107188' style='position: relative'><noscript><a href='#'><img alt='price_ranges ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Ai&#47;AirbnbHousing&#47;price_ranges&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='AirbnbHousing&#47;price_ranges' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Ai&#47;AirbnbHousing&#47;price_ranges&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en-US' /><param name='filter' value='publish=yes' /></object></div>                <script type='text/javascript'>                    var divElement = document.getElementById('viz1668742107188');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script>
            <p class="chart-desc">The image above shows the distribution of listing prices.  We did eventually make the decision to work only 
                with prices less than $1000, so our model could more accurately suite the average guests needs, but most AirBNBs fell in that 
                range anyways.  After narrowing our dataset our mean listing price was $239.19 and the median price was $180.00.
            </p>
        </div>
        <div class="col-md-3"></div>
        </div>

        <div class="row row-1">
        <div class="col-md-3"></div>
        <div class="col-md-6">
            <h3>Price Range</h3>
            <!-- <p class="desc-gauge"></p>
            <img src="/Resources/price_ranges.png"> -->
            <div class='tableauPlaceholder' id='viz1668742421251' style='position: relative'><noscript><a href='#'><img alt='price vs accomodation ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Ai&#47;AirbnbHousing&#47;pricevsaccomodation&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='AirbnbHousing&#47;pricevsaccomodation' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Ai&#47;AirbnbHousing&#47;pricevsaccomodation&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en-US' /></object></div>                <script type='text/javascript'>                    var divElement = document.getElementById('viz1668742421251');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script>
            <p class="chart-desc">This chart shows the average listing price per night by the number of people a listing accommodates.  This relationship
                is considerably linear, which makes sense given that the number of guests accommodated was the most important feature in our XGBoost model.
            </p>
        </div>
        <div class="col-md-3"></div>
        </div>
        
        <div class="row row-2">
            <!-- <div class="col-md-2"></div> -->
            <div class="col-md-1"></div>
            <div class="col-md-10">
                <h3>Property Types</h3>
                <img class="prop-chart" src="/Resources/PropertyTypes.PNG">
                <p>This image shows the distribution of property types in our data set.  The most common listings were for entire homes or entire
                    apartments, but the descriptions also get more granular, with listings specifying entire condominium or entire cottage.  For our model,
                    we clustered these into categories including Entire Home, Entire Unit, Private Room, Shared Room, Camper/RV, and Other.
                </p>
            </div>
        </div>
        </div>
    </div>

    <div class="row row-2">
        <!-- <div class="col-md-2"></div> -->
        <div class="col-md-1"></div>
        <div class="col-md-10">
            <h3>Property Types</h3>
            <img class="prop-chart" src="/Resources/Feature_Importances.png">
            <p> In exploring our data we removed many columns that were not necessary for our model. Based on the features we selected, the model determined
                that accomodation, number of bathrooms and whether the rental was an entire home, were the most important in predicting price.
            </p>
        </div>
    </div>
    </div>
</div>

    <!-- Leaflet JavaScript -->
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
    integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
    crossorigin=""></script>
    <!-- API key -->
    <script type="text/javascript" src="static/js/config.js"></script>
    <!-- Plotly-->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <!-- Our JavaScript -->
    <script type="text/javascript" src="static/js/map_logic.js"></script>
</body>
</html>